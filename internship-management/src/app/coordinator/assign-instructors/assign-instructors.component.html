<div class="min-h-screen flex flex-col items-center p-6 text-gray-800 bg-gray-100 dark:bg-gray-900 dark:text-gray-200">
  <h1 class="text-2xl font-bold mb-6 flex items-center gap-2 text-white">
    Assign Trainee Forms to Instructors
  </h1>

  <div class="w-full max-w-6xl mb-4">
    <button
      class="py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 mb-4"
    >
      Auto Assign Evaluating Faculty Members
    </button>
  </div>


  <!-- Arama Çubuğu -->
  <div class="w-full max-w-6xl mb-4">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      placeholder="Search forms..."
      class="w-full p-2 border rounded
             bg-white text-gray-800
             dark:bg-gray-700 dark:text-gray-100
             focus:outline-none"
    />
  </div>

  <div class="w-full max-w-6xl overflow-x-auto mt-4">
    <table class="w-full border-collapse text-left bg-white dark:bg-gray-800 rounded-lg shadow-lg">
      <thead class="bg-gray-100 dark:bg-gray-700">
      <tr>
        <th class="border-b p-2">Name</th>
        <th class="border-b p-2">Surname</th>
        <th class="border-b p-2">Student No</th>
        <th class="border-b p-2">Course</th>
        <th class="border-b p-2">Company</th>
        <th class="border-b p-2">Company Approval</th>
        <th class="border-b p-2">Supervisor Report</th>
        <th class="border-b p-2 text-center">Actions</th>
      </tr>
      </thead>
      <tbody>
      <!-- sortedForms yerine filteredForms kullanılıyor -->
      <tr
        *ngFor="let form of filteredForms; let i = index"
        class="hover:bg-gray-100 dark:hover:bg-gray-700"
      >
        <td class="border-b p-2">{{ form.name }}</td>
        <td class="border-b p-2">{{ form.lastName }}</td>
        <td class="border-b p-2">{{ form.username }}</td>
        <td class="border-b p-2">{{ form.code }}</td>
        <td class="border-b p-2">{{form.companyUserName}} {{form.branchName}}</td>

        @if (
          form.status == 'Company Approval Waiting' ||
          form.status == 'Coordinator Approval Waiting'
          ) {
          <td class="border-b p-2 negative-status">Not Approved</td>
        }
        @else {
          <td class="border-b p-2 positive-status">Approved</td>
        }
        <td class="border-b p-2 negative-status">Not Submitted</td>

        <td class="border-b p-2">
          <div class="flex flex-col md:flex-row justify-center items-center gap-4 mt-4 md:mt-0">
            <select
              class="px-4 py-2 border rounded dark:bg-gray-700 text-center"
              [(ngModel)]="form.selectedInstructor"
              [ngModelOptions]="{ standalone: true }"
            >
              <option [ngValue]="null" disabled></option>
              <option *ngFor="let instructor of instructors" [ngValue]="instructor">
                {{ instructor.firstName }} {{ instructor.lastName }}
              </option>
            </select>

            <button class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 ">
              Assign
            </button>
          </div>
        </td>
      </tr>


      </tbody>
    </table>
  </div>

  <!-- <ng-container *ngFor="let form of traineeForms">
     <div *ngIf="form.status === 'Approved'" class="mb-6 ">
       <div class="bg-white dark:bg-gray-800 p-4 rounded shadow flex flex-col md:flex-row md:items-center justify-between ">
         <div>
           <p><strong>Name:</strong> </p>
           <p><strong>Status:</strong> {{ form.status }}</p>
         </div>
         <div class="flex flex-col md:flex-row items-center gap-4 mt-4 md:mt-0">
           <select [(ngModel)]="form.assignedInstructor" class="px-4 py-2 border rounded dark:bg-gray-700">
             <option [ngValue]="''" disabled></option>
             <option *ngFor="let instructor of instructors" [value]="instructor">{{ instructor }}</option>
           </select>
           <button
             (click)="assign(form)"
             class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
             [disabled]="!form.assignedInstructor"
           >
             Assign
           </button>
         </div>
       </div>
     </div>
   </ng-container>-->
 </div>
<!-- text-gray-700  dark:bg-gray-700-->
